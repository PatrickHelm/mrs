%Mandl: Discrete HMM training and decoding of copper prices

TRGUESS = [0.9,0.1;
           0.1,0.9];
EMITGUESS = [1/8, 1/8, 1/8, 1/8, 1/8, 1/8, 1/8, 1/8;
           1/8, 1/8, 1/8, 1/8, 1/8, 1/8, 1/8, 1/8];

        %2012-2015, daily:
       %seq=[5	5	4	4	4	4	4	4	4	4	4	4	4	4	5	5	4	4	4	4	4	4	5	5	5	5	5	5	5	4	5	5	5	5	5	5	5	5	4	4	4	4	5	5	5	4	4	4	4	5	5	5	4	4	4	4	4	5	4	5	5	5	5	5	5	5	5	5	5	5	5	5	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	6	6	5	6	6	6	6	6	6	6	5	5	5	5	5	5	5	5	6	6	6	6	6	6	6	6	5	5	5	6	6	6	6	6	6	5	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	6	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	4	5	5	5	5	5	5	5	4	4	4	4	4	5	5	5	4	4	4	4	4	3	3	3	4	4	3	4	4	3	3	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	4	4	4	3	3	3	3	3	3	3	3	3	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	3	3	4	3	3	3	4	4	4	4	4	4	4	3	3	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	4	3	3	2	3	2	2	3	3	3	2	2	2	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	4	4	4	3	3	4	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	4	4	4	4	4	4	4	4	4	4	4	4	4	4	3	4	4	4	4	4	4	4	4	4	4	4	4	3	4	4	4	3	3	3	3	3	3	4	4	4	4	4	3	4	3	3	3	3	3	4	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	3	2	3	2	2	3	3	2	3	2	3	3	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	1	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	1	1	2	2	1	1	1	1	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2	2]
        %2013-2014, daily:
        seq= [7	7	5	5	6	6	6	6	5	5	5	5	6	8	7	7	6	6	7	7	7	6	7	6	7	7	7	5	6	6	7	7	7	7	7	7	8	6	6	6	6	7	7	7	7	6	6	6	6	6	6	6	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	5	6	6	6	7	7	7	8	7	7	7	7	7	7	8	8	8	8	8	8	8	8	7	8	8	8	8	8	8	8	8	8	7	7	6	6	6	6	5	5	5	5	6	6	6	6	6	6	6	7	7	7	6	7	6	6	6	5	5	5	5	5	5	4	3	1	2	1	1	2	2	2	1	1	1	3	2	2	3	3	3	3	3	3	3	3	3	3	3	3	2	3	3	3	3	4	4	4	4	3	3	4	4	3	4	4	5	4	5	5	5	5	5	4	5	5	5	5	5	5	5	5	4	4	3	3	4	4	3	3	4	4	4	4	4	5	5	5	5	5	5	5	6	6	6	6	6	6	6	6	6	6	5	5	5	5	5	5	6	6	6	6	6	6	5	6	5	5	5	5	5	5	4	4	4	5	4	5	5	5	5	5	5	5	5	5]



SYMBOLS=[1,2,3,4,5,6,7,8]

[ESTTR, ESTEMIT] = hmmtrain(seq,TRGUESS,EMITGUESS,'Symbols', SYMBOLS)

[pStates]=hmmdecode(seq,ESTTR,ESTEMIT)


